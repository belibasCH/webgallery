[{"/Users/ebr/code/webgalery/src/index.js":"1","/Users/ebr/code/webgalery/src/App.js":"2","/Users/ebr/code/webgalery/src/reportWebVitals.js":"3","/Users/ebr/code/webgalery/src/components/Image.js":"4","/Users/ebr/code/webgalery/src/pages/Form.js":"5","/Users/ebr/code/webgalery/src/pages/Slideshow.js":"6","/Users/ebr/code/webgalery/src/config/firebase.js":"7","/Users/ebr/code/webgalery/src/pages/Start.js":"8"},{"size":539,"mtime":1710959880427,"results":"9","hashOfConfig":"10"},{"size":676,"mtime":1710959880425,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1710959880427,"results":"12","hashOfConfig":"10"},{"size":660,"mtime":1710966892702,"results":"13","hashOfConfig":"10"},{"size":3479,"mtime":1711048467372,"results":"14","hashOfConfig":"10"},{"size":1559,"mtime":1711048003045,"results":"15","hashOfConfig":"10"},{"size":894,"mtime":1710965110637,"results":"16","hashOfConfig":"10"},{"size":2474,"mtime":1710968852521,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},"z49w34",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"21"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"21"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"21"},"/Users/ebr/code/webgalery/src/index.js",[],[],[],"/Users/ebr/code/webgalery/src/App.js",["48","49","50","51"],[],"import React, { useEffect, useState } from 'react';\nimport Form from './pages/Form';\nimport Image from './components/Image';\nimport { storage } from './config/firebase';\nimport './css/App.css';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Slideshow from './pages/Slideshow';\nimport Start from './pages/Start';\n\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Start />}/>\n          <Route path=\"upload\" element={<Form />} />\n          <Route path=\"slideshow\" element={<Slideshow />} />\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n}\nexport default App;\n","/Users/ebr/code/webgalery/src/reportWebVitals.js",[],[],"/Users/ebr/code/webgalery/src/components/Image.js",["52","53","54"],[],"import React, { useEffect, useState } from 'react';\nimport Form from '../pages/Form';\nimport { storage } from '../config/firebase';\nimport { ref,  getDownloadURL } from \"firebase/storage\";\n\nconst Image = ({key, src, active}) => {\n const [url, setUrl] = useState(\"https://bbkmf.ch/wp-content/plugins/embed-any-document/images/loading.svg\");\n\nuseEffect(() => {\n  try {\n  const storageRef = ref(storage, src._location.path_);\n  getDownloadURL(storageRef).then((downloadURL) => {\n    setUrl(downloadURL)\n  });\n} catch (error) {\n  console.log(error);\n}\n}, [])\n\n  return (\n    <img src={url} className={active ? \"active\" :  \"disable\"}/>\n  );\n}\nexport default Image;\n","/Users/ebr/code/webgalery/src/pages/Form.js",["55","56","57","58","59","60","61"],[],"import { useEffect, useState } from \"react\";\nimport { storage, db} from '../config/firebase';\nimport '../css/Form.css';\nimport { ref, getDownloadURL, uploadBytesResumable } from \"firebase/storage\";\nimport { collection, addDoc } from \"firebase/firestore\"; \n\nconst Form = () => {\n  const [imgUrl, setImgUrl] = useState(null);\n  const [progresspercent, setProgresspercent] = useState(0);\n  const [formstate, setFormstate] = useState(\"chooseImage\");\n  \n\n  //new\n  //chooseImage - bild w채hlen\n  // upload - show progress bar\n  //description  beschreibung hinzuf체gen und senden\n  //success - bild anzeigen und buttons - galerie gehen der neuen bild hochladen\n \n  const [description, setDescription] = useState(\"\");\n\n\n  const uploadImage = (selectedFile) => {\n    setFormstate(\"upload\");\n    const storageRef = ref(storage, `js/${selectedFile.name}`);\n    const uploadTask = uploadBytesResumable(storageRef, selectedFile);\n\n    uploadTask.on(\"state_changed\",\n      (snapshot) => {\n        const progress =\n          Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n        setProgresspercent(progress);\n      },\n      (error) => {\n        alert(error);\n      },\n      () => {\n        getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n          setImgUrl(downloadURL)\n          setFormstate(\"description\")\n        });\n      }\n    );\n  }\n  const selectfile = (e) => {\n    setFormstate(\"upload\");\n    uploadImage(e.target.files[0]);\n  }\n  const goback = () => {\n    setFormstate(\"chooseImage\");\n    setImgUrl(null);\n    setProgresspercent(0);\n  }\n\n  const changeDescription = e => {\n    setDescription(e.target.value)\n  }\n  const upload = async event => {\n    event.preventDefault()\n    try {\n      const dateTime = new Date()\n      const docRef = await addDoc(collection(db, \"js\"), {\n        url: imgUrl,\n        description: description,\n        date: dateTime\n    });\n      console.log(\"Document written with ID: \", docRef.id);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n    console.log('Wird gesendet...')\n    console.log(imgUrl)\n    console.log(description)\n    setFormstate(\"done\")\n\n  }\n\n  return (\n    <div className=\"upload-form\">\n      <form onSubmit={upload} className='form'>\n        <div className='form-circle'>\n          {formstate == \"chooseImage\" &&\n            <>\n              <div className='circle-content'>\n                <div className='circle-icon'></div>\n                <h2>Datei <br></br>ausw채hlen</h2>\n              </div>\n              <input onChange={selectfile} type='file' />\n\n            </>\n          }\n          {formstate == \"upload\" &&\n            <div className=\"progressbar\"><h2>{progresspercent}%</h2></div>\n          }\n          {formstate == \"description\" &&\n          <>\n          <div className=\"done\" style={{ backgroundImage: `url(${imgUrl})` }}><div className=\"done-icon\"></div></div>\n          <div style={{height: \"20px\"}}></div>\n          \n          </>\n          }\n        </div>\n        {formstate == \"description\" &&\n        <input type=\"text\" id=\"description\" placeholder=\"Grussbotschaft, Beschreibung etc.\" value={description} onChange={changeDescription}></input>\n      } \n      \n      {formstate == \"description\" &&\n      <button type='submit' className=\"hochladen\">In Diashow einf체gen</button>\n        }\n        </form>\n      {formstate == \"done\" &&\n\n        <button onClick={goback}>Neues Foto hochladen</button>\n      }\n    </div>\n  );\n}\nexport default Form;","/Users/ebr/code/webgalery/src/pages/Slideshow.js",["62","63","64","65","66"],[],"import React, { useEffect, useState } from 'react';\nimport Image from '../components/Image';\nimport { db } from '../config/firebase';\nimport '../css/App.css';\nimport { getDocs, collection } from \"firebase/firestore\";\n\n\n\nfunction Slideshow() {\n  const defaultimage = { _location: { path: \"js/1\" } }\n  const [imageList, setImageList] = useState([]);\n  const [currentimage, setCurrentImage] = useState(0);\n\n  async function fetchdata() {\n      const newImages = [];\n      const querySnapshot = await getDocs(collection(db, \"js\"));\n      querySnapshot.forEach((doc) => {\n        newImages.push(doc.data());\n      });\n      setImageList(newImages);\n  }\n\n  useEffect(() =>{\n    if (imageList.length === 0) {\n      fetchdata();\n    }\n    if (currentimage === imageList.length - 1){\n    fetchdata();\n    }\n  }, [currentimage])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (currentimage === imageList.length - 1){\n        fetchdata(setImageList);\n      }\n      setCurrentImage((currentimage) => (currentimage === imageList.length - 1 ? 0 : currentimage + 1));\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [imageList])\n\n  return (\n    <div className=\"image-list\">\n      {\n        imageList.map((element, index) => (\n          <div className={['imageContainer', index === currentimage ? 'active' : 'disable'].join(' ')} key={index} >\n          <img key={index} src={element.url} />\n          <h2 className='description'>{element.description}</h2>\n          </div>\n        ))\n      }\n    </div>\n  );\n}\nexport default Slideshow;\n\n","/Users/ebr/code/webgalery/src/config/firebase.js",[],[],"/Users/ebr/code/webgalery/src/pages/Start.js",["67","68","69","70","71","72","73","74"],[],"import React, { useEffect, useState } from 'react';\nimport Image from '../components/Image';\nimport { storage, db } from '../config/firebase';\nimport '../css/App.css';\nimport { getStorage, ref, list, getDownloadURL, getBlob } from \"firebase/storage\";\nimport { Link } from 'react-router-dom';\nimport { collection, getDocs } from \"firebase/firestore\"; \nimport JSZip from 'jszip';\n\n\n\nfunction Start() {\n  const [imageList, setImageList] = useState([]);\n  console.log(imageList);\n\n  useEffect(() =>{\n    async function fetchData() {\n      const newImages = [];\n      const querySnapshot = await getDocs(collection(db, \"js\"));\n      querySnapshot.forEach((doc) => {\n        console.log(`${doc.id} => ${doc.data().description}`);\n        newImages.push(doc.data());\n      });\n      setImageList(newImages);\n    }\n    fetchData();\n  }, [])\n  async function downloadAndZipImages() {\n    const zip = new JSZip();\n  \n    // Iterate over each image data object\n    for (const imageData of imageList) {\n      try {\n        // Fetch the image\n        const response = await fetch(imageData.url);\n        const blob = await response.blob();\n  \n        // Add the image to the zip file\n        zip.file(`${imageData.description || 'image'}.jpeg`, blob, { binary: true });\n      } catch (error) {\n        console.error('Error downloading image:', error);\n      }\n    }\n  \n    // Generate the zip file\n    const content = await zip.generateAsync({ type: 'blob' });\n  \n    // Create a temporary link to download the zip file\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(content);\n    link.download = 'HochzeitsFotos.zip';\n  \n    // Programmatically click the link to trigger the download\n    link.click();\n  \n    // Clean up\n    URL.revokeObjectURL(link.href);\n  }\n  \n\n  return (\n    <>\n      <div className=\"image-galery\">\n        {\n          imageList.map((element, index) => (\n            <div key={index}>\n            <img src={element.url}></img>\n            <p>{element.description}</p>\n            </div>\n          ))\n        }\n\n      </div>\n      <div className='button-container'>\n\n        <Link to=\"/upload\" className='button'>\n          <div className='upload icon'></div>\n        </Link>\n        <Link to=\"/slideshow\" className='button'><div className='fullscreen icon'></div></Link>\n        <div className='button' onClick={downloadAndZipImages}><div className='download icon'></div></div>\n\n      </div>\n\n    </>\n  );\n}\nexport default Start;\n",{"ruleId":"75","severity":1,"message":"76","line":1,"column":17,"nodeType":"77","messageId":"78","endLine":1,"endColumn":26},{"ruleId":"75","severity":1,"message":"79","line":1,"column":28,"nodeType":"77","messageId":"78","endLine":1,"endColumn":36},{"ruleId":"75","severity":1,"message":"80","line":3,"column":8,"nodeType":"77","messageId":"78","endLine":3,"endColumn":13},{"ruleId":"75","severity":1,"message":"81","line":4,"column":10,"nodeType":"77","messageId":"78","endLine":4,"endColumn":17},{"ruleId":"75","severity":1,"message":"82","line":2,"column":8,"nodeType":"77","messageId":"78","endLine":2,"endColumn":12},{"ruleId":"83","severity":1,"message":"84","line":18,"column":4,"nodeType":"85","endLine":18,"endColumn":6,"suggestions":"86"},{"ruleId":"87","severity":1,"message":"88","line":21,"column":5,"nodeType":"89","endLine":21,"endColumn":64},{"ruleId":"75","severity":1,"message":"76","line":1,"column":10,"nodeType":"77","messageId":"78","endLine":1,"endColumn":19},{"ruleId":"90","severity":1,"message":"91","line":81,"column":22,"nodeType":"92","messageId":"93","endLine":81,"endColumn":24},{"ruleId":"90","severity":1,"message":"91","line":91,"column":22,"nodeType":"92","messageId":"93","endLine":91,"endColumn":24},{"ruleId":"90","severity":1,"message":"91","line":94,"column":22,"nodeType":"92","messageId":"93","endLine":94,"endColumn":24},{"ruleId":"90","severity":1,"message":"91","line":102,"column":20,"nodeType":"92","messageId":"93","endLine":102,"endColumn":22},{"ruleId":"90","severity":1,"message":"91","line":106,"column":18,"nodeType":"92","messageId":"93","endLine":106,"endColumn":20},{"ruleId":"90","severity":1,"message":"91","line":110,"column":18,"nodeType":"92","messageId":"93","endLine":110,"endColumn":20},{"ruleId":"75","severity":1,"message":"80","line":2,"column":8,"nodeType":"77","messageId":"78","endLine":2,"endColumn":13},{"ruleId":"75","severity":1,"message":"94","line":10,"column":9,"nodeType":"77","messageId":"78","endLine":10,"endColumn":21},{"ruleId":"83","severity":1,"message":"95","line":30,"column":6,"nodeType":"85","endLine":30,"endColumn":20,"suggestions":"96"},{"ruleId":"83","severity":1,"message":"97","line":40,"column":6,"nodeType":"85","endLine":40,"endColumn":17,"suggestions":"98"},{"ruleId":"87","severity":1,"message":"88","line":47,"column":11,"nodeType":"89","endLine":47,"endColumn":48},{"ruleId":"75","severity":1,"message":"80","line":2,"column":8,"nodeType":"77","messageId":"78","endLine":2,"endColumn":13},{"ruleId":"75","severity":1,"message":"81","line":3,"column":10,"nodeType":"77","messageId":"78","endLine":3,"endColumn":17},{"ruleId":"75","severity":1,"message":"99","line":5,"column":10,"nodeType":"77","messageId":"78","endLine":5,"endColumn":20},{"ruleId":"75","severity":1,"message":"100","line":5,"column":22,"nodeType":"77","messageId":"78","endLine":5,"endColumn":25},{"ruleId":"75","severity":1,"message":"101","line":5,"column":27,"nodeType":"77","messageId":"78","endLine":5,"endColumn":31},{"ruleId":"75","severity":1,"message":"102","line":5,"column":33,"nodeType":"77","messageId":"78","endLine":5,"endColumn":47},{"ruleId":"75","severity":1,"message":"103","line":5,"column":49,"nodeType":"77","messageId":"78","endLine":5,"endColumn":56},{"ruleId":"87","severity":1,"message":"88","line":67,"column":13,"nodeType":"89","endLine":67,"endColumn":36},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'Image' is defined but never used.","'storage' is defined but never used.","'Form' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'src._location.path_'. Either include it or remove the dependency array.","ArrayExpression",["104"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'defaultimage' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'imageList.length'. Either include it or remove the dependency array.",["105"],"React Hook useEffect has a missing dependency: 'currentimage'. Either include it or remove the dependency array.",["106"],"'getStorage' is defined but never used.","'ref' is defined but never used.","'list' is defined but never used.","'getDownloadURL' is defined but never used.","'getBlob' is defined but never used.",{"desc":"107","fix":"108"},{"desc":"109","fix":"110"},{"desc":"111","fix":"112"},"Update the dependencies array to be: [src._location.path_]",{"range":"113","text":"114"},"Update the dependencies array to be: [currentimage, imageList.length]",{"range":"115","text":"116"},"Update the dependencies array to be: [currentimage, imageList]",{"range":"117","text":"118"},[551,553],"[src._location.path_]",[803,817],"[currentimage, imageList.length]",[1138,1149],"[currentimage, imageList]"]