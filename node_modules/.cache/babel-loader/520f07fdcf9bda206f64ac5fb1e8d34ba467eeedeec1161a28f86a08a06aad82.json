{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ebr/code/webgalery/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ebr/code/webgalery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ebr/code/webgalery/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Image from'../components/Image';import{db}from'../config/firebase';import'../css/App.css';import{getDocs,collection}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Slideshow(){var defaultimage={_location:{path:\"js/1\"}};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imageList=_useState2[0],setImageList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentimage=_useState4[0],setCurrentImage=_useState4[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var newImages,querySnapshot;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:newImages=[];_context.next=3;return getDocs(collection(db,\"js\"));case 3:querySnapshot=_context.sent;querySnapshot.forEach(function(doc){console.log(\"\".concat(doc.id,\" => \").concat(doc.data().description));newImages.push(doc.data());});setImageList(newImages);case 6:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);useEffect(function(){var interval=setInterval(function(){setCurrentImage(function(currentimage){return currentimage===imageList.length-1?0:currentimage+1;});},5000);return function(){return clearInterval(interval);};},[imageList]);return/*#__PURE__*/_jsx(\"div\",{className:\"image-list\",children:imageList.map(function(element,index){return/*#__PURE__*/_jsxs(\"div\",{className:['imageContainer',index===currentimage?'active':'disable'].join(' '),children:[/*#__PURE__*/_jsx(\"img\",{src:element.url},index),/*#__PURE__*/_jsx(\"h2\",{className:\"description\",children:element.description})]},index);})});}export default Slideshow;","map":{"version":3,"names":["React","useEffect","useState","Image","db","getDocs","collection","jsx","_jsx","jsxs","_jsxs","Slideshow","defaultimage","_location","path","_useState","_useState2","_slicedToArray","imageList","setImageList","_useState3","_useState4","currentimage","setCurrentImage","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newImages","querySnapshot","wrap","_callee$","_context","prev","next","sent","forEach","doc","console","log","concat","id","data","description","push","stop","interval","setInterval","length","clearInterval","className","children","map","element","index","join","src","url"],"sources":["/Users/ebr/code/webgalery/src/pages/Slideshow.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Image from '../components/Image';\nimport { db } from '../config/firebase';\nimport '../css/App.css';\nimport { getDocs, collection } from \"firebase/firestore\";\n\nfunction Slideshow() {\n  const defaultimage = { _location: { path: \"js/1\" } }\n  const [imageList, setImageList] = useState([]);\n  const [currentimage, setCurrentImage] = useState(0);\n\n  useEffect(() =>{\n    async function fetchData() {\n      const newImages = [];\n      const querySnapshot = await getDocs(collection(db, \"js\"));\n      querySnapshot.forEach((doc) => {\n        console.log(`${doc.id} => ${doc.data().description}`);\n        newImages.push(doc.data());\n      });\n      setImageList(newImages);\n    }\n    fetchData();\n  }, [])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentImage((currentimage) => (currentimage === imageList.length - 1 ? 0 : currentimage + 1));\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [imageList])\n\n  return (\n    <div className=\"image-list\">\n      {\n        imageList.map((element, index) => (\n          <div className={['imageContainer', index === currentimage ? 'active' : 'disable'].join(' ')} key={index} >\n          <img key={index} src={element.url} />\n          <h2 className='description'>{element.description}</h2>\n          </div>\n        ))\n      }\n    </div>\n  );\n}\nexport default Slideshow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}