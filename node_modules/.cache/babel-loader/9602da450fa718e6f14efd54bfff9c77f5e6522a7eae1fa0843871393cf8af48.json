{"ast":null,"code":"import _slicedToArray from\"/Users/ebr/code/webgalery/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Image from'../components/Image';import{storage}from'../config/firebase';import'../css/App.css';import{getStorage,ref,list,getDownloadURL}from\"firebase/storage\";import{jsx as _jsx}from\"react/jsx-runtime\";function Slideshow(){var defaultimage={_location:{path:\"js/1\"}};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imageList=_useState2[0],setImageList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentimage=_useState4[0],setCurrentImage=_useState4[1];useEffect(function(){var storageRef=ref(storage,'js/');list(storageRef).then(function(res){setImageList(res.items);});var interval=setInterval(function(){var storageRef=ref(storage,'js/');list(storageRef).then(function(res){setImageList(res.items);});},600000);return function(){return clearInterval(interval);};},[]);useEffect(function(){var interval=setInterval(function(){setCurrentImage(function(currentimage){return currentimage===imageList.length-1?0:currentimage+1;});},5000);return function(){return clearInterval(interval);};},[imageList]);return/*#__PURE__*/_jsx(\"div\",{className:\"image-list\",children:imageList.map(function(img,index){return/*#__PURE__*/_jsx(Image,{src:img,active:currentimage==index?true:false},index);})});}export default Slideshow;","map":{"version":3,"names":["React","useEffect","useState","Image","storage","getStorage","ref","list","getDownloadURL","jsx","_jsx","Slideshow","defaultimage","_location","path","_useState","_useState2","_slicedToArray","imageList","setImageList","_useState3","_useState4","currentimage","setCurrentImage","storageRef","then","res","items","interval","setInterval","clearInterval","length","className","children","map","img","index","src","active"],"sources":["/Users/ebr/code/webgalery/src/pages/Slideshow.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Image from '../components/Image';\nimport { storage } from '../config/firebase';\nimport '../css/App.css';\nimport { getStorage, ref, list, getDownloadURL } from \"firebase/storage\";\n\nfunction Slideshow() {\n  const defaultimage = { _location: { path: \"js/1\" } }\n  const [imageList, setImageList] = useState([]);\n  const [currentimage, setCurrentImage] = useState(0);\n\n  useEffect(() => {\n    const storageRef = ref(storage, 'js/');\n    list(storageRef).then((res) => {\n      setImageList(res.items);\n    })\n    const interval = setInterval(() => {\n      const storageRef = ref(storage, 'js/');\n      list(storageRef).then((res) => {\n        setImageList(res.items);\n      })\n    }, 600000);\n    return () => clearInterval(interval);\n\n  }, [])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentImage((currentimage) => (currentimage === imageList.length - 1 ? 0 : currentimage + 1));\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [imageList])\n\n  return (\n    <div className=\"image-list\">\n      {\n        imageList.map((img, index) => (\n          <Image key={index} src={img} active={currentimage == index ? true : false} />\n        ))\n      }\n    </div>\n  );\n}\nexport default Slideshow;\n"],"mappings":"+GAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,OAASC,OAAO,KAAQ,oBAAoB,CAC5C,MAAO,gBAAgB,CACvB,OAASC,UAAU,CAAEC,GAAG,CAAEC,IAAI,CAAEC,cAAc,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzE,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,GAAM,CAAAC,YAAY,CAAG,CAAEC,SAAS,CAAE,CAAEC,IAAI,CAAE,MAAO,CAAE,CAAC,CACpD,IAAAC,SAAA,CAAkCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAwClB,QAAQ,CAAC,CAAC,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA5CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpCpB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAuB,UAAU,CAAGlB,GAAG,CAACF,OAAO,CAAE,KAAK,CAAC,CACtCG,IAAI,CAACiB,UAAU,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CAC7BP,YAAY,CAACO,GAAG,CAACC,KAAK,CAAC,CACzB,CAAC,CAAC,CACF,GAAM,CAAAC,QAAQ,CAAGC,WAAW,CAAC,UAAM,CACjC,GAAM,CAAAL,UAAU,CAAGlB,GAAG,CAACF,OAAO,CAAE,KAAK,CAAC,CACtCG,IAAI,CAACiB,UAAU,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CAC7BP,YAAY,CAACO,GAAG,CAACC,KAAK,CAAC,CACzB,CAAC,CAAC,CACJ,CAAC,CAAE,MAAM,CAAC,CACV,MAAO,kBAAM,CAAAG,aAAa,CAACF,QAAQ,CAAC,GAEtC,CAAC,CAAE,EAAE,CAAC,CAEN3B,SAAS,CAAC,UAAM,CACd,GAAM,CAAA2B,QAAQ,CAAGC,WAAW,CAAC,UAAM,CACjCN,eAAe,CAAC,SAACD,YAAY,QAAM,CAAAA,YAAY,GAAKJ,SAAS,CAACa,MAAM,CAAG,CAAC,CAAG,CAAC,CAAGT,YAAY,CAAG,CAAC,EAAC,CAAC,CACnG,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,kBAAM,CAAAQ,aAAa,CAACF,QAAQ,CAAC,GACtC,CAAC,CAAE,CAACV,SAAS,CAAC,CAAC,CAEf,mBACER,IAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAEvBf,SAAS,CAACgB,GAAG,CAAC,SAACC,GAAG,CAAEC,KAAK,qBACvB1B,IAAA,CAACP,KAAK,EAAakC,GAAG,CAAEF,GAAI,CAACG,MAAM,CAAEhB,YAAY,EAAIc,KAAK,CAAG,IAAI,CAAG,KAAM,EAA9DA,KAAgE,CAAC,EAC9E,CAAC,CAED,CAAC,CAEV,CACA,cAAe,CAAAzB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}